name: max_by
topic:
args:
  required:
  - name: elements,
    type: [array]
    desc:
  - name: expr
    type: [expression->number, expression->string]
    desc:
  optional: []
returns:
  type: any
  desc:
desc: |
  Return the maximum element in an array using the expression `expr` as the
  comparison key.  The entire maximum element is returned.
  Below are several examples using the `people` array (defined above) as the
  given input.
examples:
- context: None
  args: [people, "&age"]
  returns: {"age": 50, "age_str": "50", "bool": false, "name": "d"}
- context: None
  args: [people, "&age"]
  returns: 50
- context: None
  args: [people, "&to_number(age_str)"]
  returns: {"age": 50, "age_str": "50", "bool": false, "name": "d"}
- context: None
  args: [people, "&age_str"]
  returns: "<error: invalid-type>"
- context: None
  args: [people, age]
  returns: "<error: invalid-type>"
